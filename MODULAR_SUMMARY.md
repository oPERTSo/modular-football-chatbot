# üèÜ Modular Football Chatbot Architecture

‡πÑ‡∏î‡πâ‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡πÅ‡∏¢‡∏Å‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏≠‡∏≠‡∏Å‡πÄ‡∏õ‡πá‡∏ô modules ‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô ‚úÖ

## üìÅ ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå‡πÉ‡∏´‡∏°‡πà

```
chatbot/
‚îú‚îÄ‚îÄ modules/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py              # Package initialization
‚îÇ   ‚îú‚îÄ‚îÄ config.py                # ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ API Keys ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤
‚îÇ   ‚îú‚îÄ‚îÄ football_api.py          # ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ API Football ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
‚îÇ   ‚îú‚îÄ‚îÄ news_manager.py          # ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡πà‡∏≤‡∏ß‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤
‚îÇ   ‚îú‚îÄ‚îÄ thai_football_bot.py     # Logic ‡∏´‡∏•‡∏±‡∏Å‡∏Ç‡∏≠‡∏á Chatbot
‚îÇ   ‚îî‚îÄ‚îÄ api_handlers.py          # ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ Flask routes
‚îú‚îÄ‚îÄ app.py                       # Main application (‡πÉ‡∏ä‡πâ modules ‡πÉ‡∏´‡∏°‡πà)
‚îú‚îÄ‚îÄ app_original.py              # ‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏î‡∏¥‡∏° (‡∏™‡∏≥‡∏£‡∏≠‡∏á‡πÑ‡∏ß‡πâ)
‚îî‚îÄ‚îÄ data/                        # ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ç‡πà‡∏≤‡∏ß
```

## üß© ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î Modules

### 1. `modules/config.py`
- ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ API Keys (OpenAI, API Football)
- ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô `get_api_keys()` ‡πÅ‡∏•‡∏∞ `validate_api_keys()`
- ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏ï‡πà‡∏≤‡∏á‡πÜ ‡πÄ‡∏ä‡πà‡∏ô MAX_TOKENS, DEFAULT_LEAGUE

### 2. `modules/football_api.py` 
- ‡∏Ñ‡∏•‡∏≤‡∏™ `FootballAPI` ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏Å API
- ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô `get_standings()`, `get_topscorers()`, `get_fixtures()`
- ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ league mapping ‡πÅ‡∏•‡∏∞ team mapping

### 3. `modules/news_manager.py`
- ‡∏Ñ‡∏•‡∏≤‡∏™ `NewsManager` ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡πà‡∏≤‡∏ß
- ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô `get_latest_news()`, `search_news()`, `render_news_html()`
- ‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÑ‡∏ü‡∏•‡πå‡∏Ç‡πà‡∏≤‡∏ß‡πÉ‡∏ô‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå data

### 4. `modules/thai_football_bot.py`
- ‡∏Ñ‡∏•‡∏≤‡∏™ `ThaiFootballAnalysisChatbot` ‡∏´‡∏•‡∏±‡∏Å
- ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô `chat()`, `detect_query_type()`, `build_context()`
- ‡∏Å‡∏≤‡∏£‡∏ú‡∏™‡∏≤‡∏ô‡∏á‡∏≤‡∏ô OpenAI API ‡∏Å‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ü‡∏∏‡∏ï‡∏ö‡∏≠‡∏•

### 5. `modules/api_handlers.py`
- ‡∏Ñ‡∏•‡∏≤‡∏™ `APIHandlers` ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ Flask routes
- ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô endpoint ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ‡πÄ‡∏ä‡πà‡∏ô `chat_endpoint()`, `news_endpoint()`

## üöÄ ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô

### ‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ô‡πÅ‡∏≠‡∏õ:
```bash
cd "c:\Users\work\Desktop\‡∏á‡∏≤‡∏ô\chatbot"
python app.py
```

### ‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö modules:
```bash
python test_modules.py
```

## üéØ ‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏ä‡∏ô‡πå‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö

1. **‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏∞‡∏ö‡∏ö**: ‡πÅ‡∏ï‡πà‡∏•‡∏∞ module ‡∏°‡∏µ‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô
2. **‡∏á‡πà‡∏≤‡∏¢‡∏ï‡πà‡∏≠‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç**: ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡πÑ‡∏î‡πâ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏≠‡∏¥‡∏™‡∏£‡∏∞
3. **‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏á‡πà‡∏≤‡∏¢**: ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÅ‡∏ï‡πà‡∏•‡∏∞ module ‡πÅ‡∏¢‡∏Å‡∏Å‡∏±‡∏ô‡πÑ‡∏î‡πâ
4. **‡∏Ç‡∏¢‡∏≤‡∏¢‡∏ï‡∏±‡∏ß‡πÑ‡∏î‡πâ**: ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡πÉ‡∏´‡∏°‡πà‡πÑ‡∏î‡πâ‡∏á‡πà‡∏≤‡∏¢
5. **‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏á‡πà‡∏≤‡∏¢**: ‡πÇ‡∏Ñ‡πâ‡∏î‡∏≠‡πà‡∏≤‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡πÑ‡∏î‡πâ‡∏á‡πà‡∏≤‡∏¢‡∏Å‡∏ß‡πà‡∏≤‡πÄ‡∏î‡∏¥‡∏°

## üîß API Endpoints ‡∏ó‡∏µ‡πà‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô

- `POST /chat` - Chat ‡∏Å‡∏±‡∏ö AI
- `GET /api/news/latest` - ‡∏Ç‡πà‡∏≤‡∏ß‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î
- `GET /api/news/search?q=‡πÅ‡∏°‡∏ô‡∏¢‡∏π` - ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏Ç‡πà‡∏≤‡∏ß
- `GET /api/standings?league=‡∏û‡∏£‡∏µ‡πÄ‡∏°‡∏µ‡∏¢‡∏£‡πå‡∏•‡∏µ‡∏Å` - ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô
- `GET /api/topscorers?league=‡∏û‡∏£‡∏µ‡πÄ‡∏°‡∏µ‡∏¢‡∏£‡πå‡∏•‡∏µ‡∏Å` - ‡∏î‡∏≤‡∏ß‡∏ã‡∏±‡∏•‡πÇ‡∏ß
- `GET /api/team-form?team=‡πÅ‡∏°‡∏ô‡∏¢‡∏π` - ‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏ó‡∏µ‡∏°
- `GET /api/compare-teams?team1=‡πÅ‡∏°‡∏ô‡∏¢‡∏π&team2=‡∏•‡∏¥‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏û‡∏π‡∏•` - ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö
- `GET /api/last-results` - ‡∏ú‡∏•‡∏ö‡∏≠‡∏•‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î

## ‚úÖ ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞

- [x] ‡πÅ‡∏¢‡∏Å config ‡πÅ‡∏•‡∏∞ API keys
- [x] ‡πÅ‡∏¢‡∏Å Football API logic  
- [x] ‡πÅ‡∏¢‡∏Å News management
- [x] ‡πÅ‡∏¢‡∏Å main chatbot logic
- [x] ‡πÅ‡∏¢‡∏Å Flask routes handlers
- [x] ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï main app ‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ modules
- [x] ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏ó‡∏∏‡∏Å modules
- [x] ‡∏£‡∏∞‡∏ö‡∏ö‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô

üéâ **‡∏Å‡∏≤‡∏£‡πÅ‡∏¢‡∏Å modules ‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå‡πÅ‡∏•‡πâ‡∏ß!**
